<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<title id="page-title">Portfolio</title>

		<!-- Favicons for all browsers -->
		<link
			rel="icon"
			type="image/png"
			sizes="48x48"
			href="favicon.png"
		/>
		<link
			rel="icon"
			type="image/x-icon"
			href="favicon.ico"
		/>
		<link
			rel="shortcut icon"
			href="favicon.ico"
		/>
		<!-- Safari Pinned Tab -->
		<link
			rel="mask-icon"
			href="safari-pinned-tab.svg"
			color="#000000"
		/>

		<!-- Preload critical resources for faster loading -->
		<link
			rel="preload"
			href="data.js"
			as="script"
		/>
		<link
			rel="preload"
			href="images/profile/tom-sloan-profile.png"
			as="image"
		/>

		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			:root {
				/* Modern vibrant color scheme */
				--darkest: #f8fafc;
				--dark: #94a3b8;
				--light: #475569;
				--lightest: #0f172a;
				--shadowStart: rgba(0, 0, 0, 0.05);
				--shadowEnd: rgba(0, 0, 0, 0.15);
				--text: #1e293b;
				--accent: #3b82f6;
				--accent-light: #60a5fa;
				--accent-dark: #2563eb;
				--success: #10b981;
				--purple: #8b5cf6;
				--orange: #f59e0b;
				--background-alt: #ffffff;
				--gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				--gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
				--gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
			}

			body {
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
					"Roboto", "Oxygen", "Ubuntu", sans-serif;
				line-height: 1.5;
				color: var(--text);
				background: radial-gradient(
						circle at 20% 50%,
						rgba(59, 130, 246, 0.05) 0%,
						transparent 50%
					),
					radial-gradient(
						circle at 80% 80%,
						rgba(139, 92, 246, 0.05) 0%,
						transparent 50%
					),
					radial-gradient(
						circle at 40% 20%,
						rgba(245, 158, 11, 0.03) 0%,
						transparent 50%
					),
					var(--darkest);
				font-size: 14px;
			}

			/* Navigation */
			nav {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				background: rgba(240, 245, 249, 0.95);
				backdrop-filter: blur(10px);
				padding: 0.75rem 1.5rem;
				box-shadow: 0 2px 8px var(--shadowStart);
				z-index: 1000;
			}

			nav .container {
				max-width: 1200px;
				margin: 0 auto;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}

			nav .logo {
				font-size: 1.2rem;
				font-weight: 700;
				color: var(--lightest);
			}

			nav ul {
				list-style: none;
				display: flex;
				gap: 1.5rem;
			}

			nav a {
				color: var(--light);
				text-decoration: none;
				font-weight: 500;
				font-size: 0.9rem;
				transition: all 0.3s ease;
				position: relative;
				padding-bottom: 4px;
			}

			nav a::after {
				content: "";
				position: absolute;
				bottom: 0;
				left: 0;
				width: 0;
				height: 2px;
				background: var(--accent);
				transition: width 0.3s ease;
			}

			nav a:hover {
				color: var(--accent);
			}

			nav a:hover::after {
				width: 100%;
			}

			nav a.active {
				color: var(--accent);
				font-weight: 600;
			}

			nav a.active::after {
				width: 100%;
			}

			/* Container */
			.container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 2rem 1.5rem;
			}

			/* Add subtle pattern to main sections */
			section.container {
				position: relative;
			}

			section.container::before {
				content: "";
				position: absolute;
				top: 0;
				left: 50%;
				transform: translateX(-50%);
				width: 100vw;
				height: 100%;
				background-image: repeating-linear-gradient(
					90deg,
					transparent,
					transparent 2px,
					rgba(59, 130, 246, 0.02) 2px,
					rgba(59, 130, 246, 0.02) 4px
				);
				pointer-events: none;
				z-index: 0;
			}

			/* Section Titles */
			.section-title {
				font-size: 1.8rem;
				font-weight: 700;
				color: var(--lightest);
				margin-bottom: 2rem;
				text-align: center;
				position: relative;
				padding-bottom: 0.75rem;
				z-index: 1;
			}

			.section-title::after {
				content: "";
				position: absolute;
				bottom: 0;
				left: 50%;
				transform: translateX(-50%);
				width: 80px;
				height: 4px;
				background: var(--gradient-3);
				border-radius: 3px;
				animation: pulse 2s ease-in-out infinite;
			}

			@keyframes pulse {
				0%,
				100% {
					opacity: 1;
				}
				50% {
					opacity: 0.7;
				}
			}

			/* Profile Section */
			.profile-section {
				background: white;
				padding: 2.5rem 1.5rem;
				margin-top: 60px;
				position: relative;
				overflow: hidden;
			}

			.title-background {
				position: absolute;
				top: 0px;
				left: 0px;
				right: 0px;
				bottom: 0px;
				z-index: 0;
				display: grid;
				grid-template-columns: 1fr 1fr;
				grid-template-rows: 1fr 1fr;
				gap: 0;
				padding: 0;
			}

			.bg-image-wrapper {
				position: relative;
				overflow: hidden;
				z-index: 0;
			}

			.bg-image-wrapper:nth-child(1) {
				grid-column: 1;
				grid-row: 1;
			}

			.bg-image-wrapper:nth-child(2) {
				grid-column: 2;
				grid-row: 1;
			}

			.bg-image-wrapper:nth-child(3) {
				grid-column: 1;
				grid-row: 2;
			}

			.bg-image-wrapper:nth-child(4) {
				grid-column: 2;
				grid-row: 2;
			}

			.bg-image {
				width: 100%;
				height: 100%;
				object-fit: cover;
				display: block;
				min-width: 0;
				min-height: 0;
				cursor: pointer;
				transition: all 0.3s ease;
				position: relative;
			}

			.bg-image:hover {
				opacity: 0.7;
			}

			/* Image Modal */
			.image-modal {
				display: none;
				position: fixed;
				top: 0;
				left: 0;
				width: 100vw;
				height: 100vh;
				background: rgba(0, 0, 0, 0.7);
				z-index: 9999;
				align-items: center;
				justify-content: center;
				padding: 2rem;
				cursor: pointer;
			}

			.image-modal.active {
				display: flex;
			}

			.image-modal img {
				max-width: 90%;
				max-height: 90%;
				object-fit: contain;
				box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
				cursor: default;
			}

			/* Project Detail Modal */
			.project-modal {
				display: none;
				position: fixed;
				top: 0;
				left: 0;
				width: 100vw;
				height: 100vh;
				background: rgba(0, 0, 0, 0.85);
				z-index: 10000;
				align-items: center;
				justify-content: center;
				padding: 2rem;
				overflow-y: auto;
			}

			.project-modal.active {
				display: flex;
			}

			.project-modal-content {
				background: white;
				border-radius: 16px;
				max-width: 1200px;
				width: 100%;
				max-height: 90vh;
				overflow-y: auto;
				box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
				position: relative;
			}

			/* Video layout: side-by-side */
			.project-modal-video-layout {
				display: grid;
				grid-template-columns: 1fr 1fr;
				gap: 0;
				min-height: 500px;
			}

			.project-modal-video-container {
				background: #000;
				display: flex;
				align-items: center;
				justify-content: center;
				border-radius: 16px 0 0 16px;
				position: relative;
				overflow: hidden;
			}

			.project-modal-video-container video {
				width: 100%;
				height: 100%;
				object-fit: contain;
			}

			/* Image layout: stacked (original) */
			.project-modal-stacked-layout {
				display: flex;
				flex-direction: column;
			}

			.project-modal-close {
				position: absolute;
				top: 1rem;
				right: 1rem;
				background: rgba(0, 0, 0, 0.7);
				color: white;
				border: none;
				width: 36px;
				height: 36px;
				border-radius: 50%;
				cursor: pointer;
				font-size: 1.5rem;
				display: flex;
				align-items: center;
				justify-content: center;
				transition: all 0.3s;
				z-index: 10;
			}

			.project-modal-close:hover {
				background: rgba(0, 0, 0, 0.9);
				transform: rotate(90deg);
			}

			.project-modal-media {
				width: 100%;
				height: 300px;
				object-fit: cover;
				border-radius: 16px 16px 0 0;
			}

			.project-modal-body {
				padding: 2rem;
			}

			.project-modal-body-sidebar {
				padding: 2rem;
				display: flex;
				flex-direction: column;
				justify-content: center;
				overflow-y: auto;
			}

			.project-modal-title {
				font-size: 2rem;
				font-weight: 700;
				color: var(--lightest);
				margin-bottom: 0.5rem;
			}

			.project-modal-subtitle {
				font-size: 1.1rem;
				color: var(--accent);
				margin-bottom: 1rem;
			}

			.project-modal-description {
				color: var(--text);
				line-height: 1.7;
				margin-bottom: 1.5rem;
				font-size: 1rem;
			}

			.project-modal-tags {
				display: flex;
				gap: 0.6rem;
				flex-wrap: wrap;
				margin-bottom: 1.5rem;
			}

			.project-modal-tag {
				padding: 0.4rem 0.8rem;
				border-radius: 6px;
				color: white;
				font-weight: 600;
				font-size: 0.85rem;
			}

			.project-modal-link {
				display: inline-block;
				padding: 0.75rem 1.5rem;
				background: var(--accent);
				color: white;
				text-decoration: none;
				border-radius: 8px;
				font-weight: 600;
				font-size: 1rem;
				transition: all 0.3s;
			}

			.project-modal-link:hover {
				background: var(--accent-dark);
				transform: translateY(-2px);
				box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
			}

			/* Generic Detail Modal (for experience, education, etc) */
			.detail-modal {
				display: none;
				position: fixed;
				top: 0;
				left: 0;
				width: 100vw;
				height: 100vh;
				background: rgba(0, 0, 0, 0.85);
				z-index: 10000;
				align-items: center;
				justify-content: center;
				padding: 2rem;
				overflow-y: auto;
			}

			.detail-modal.active {
				display: flex;
			}

			.detail-modal-content {
				background: white;
				border-radius: 16px;
				max-width: 700px;
				width: 100%;
				max-height: 90vh;
				overflow-y: auto;
				box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
				position: relative;
				padding: 2.5rem;
			}

			.detail-modal-close {
				position: absolute;
				top: 1rem;
				right: 1rem;
				background: rgba(0, 0, 0, 0.7);
				color: white;
				border: none;
				width: 36px;
				height: 36px;
				border-radius: 50%;
				cursor: pointer;
				font-size: 1.5rem;
				display: flex;
				align-items: center;
				justify-content: center;
				transition: all 0.3s;
				z-index: 10;
			}

			.detail-modal-close:hover {
				background: rgba(0, 0, 0, 0.9);
				transform: rotate(90deg);
			}

			.detail-modal-header {
				display: flex;
				align-items: center;
				gap: 1rem;
				margin-bottom: 1.5rem;
				padding-bottom: 1.5rem;
				border-bottom: 2px solid var(--darkest);
			}

			.detail-modal-logo {
				width: 70px;
				height: 70px;
				object-fit: contain;
				border-radius: 8px;
				border: 2px solid var(--darkest);
				padding: 8px;
				background: white;
				flex-shrink: 0;
			}

			.detail-modal-title {
				font-size: 1.75rem;
				font-weight: 700;
				color: var(--lightest);
				margin-bottom: 0.25rem;
			}

			.detail-modal-subtitle {
				font-size: 1.1rem;
				color: var(--accent);
			}

			.detail-modal-meta {
				display: flex;
				flex-direction: column;
				gap: 0.5rem;
				margin-bottom: 1.5rem;
				padding: 1rem;
				background: var(--darkest);
				border-radius: 8px;
			}

			.detail-modal-meta-item {
				font-size: 0.95rem;
				color: var(--text);
				display: flex;
				align-items: center;
				gap: 0.5rem;
			}

			.detail-modal-description {
				color: var(--text);
				line-height: 1.7;
				margin-bottom: 1.5rem;
				font-size: 1rem;
				white-space: pre-wrap;
			}

			.detail-modal-skills {
				display: flex;
				gap: 0.5rem;
				flex-wrap: wrap;
			}

			.detail-modal-skill {
				padding: 0.4rem 0.8rem;
				border-radius: 6px;
				background: var(--accent-light);
				color: white;
				font-weight: 600;
				font-size: 0.8rem;
			}

			/* Mobile responsive for video modal */
			@media (max-width: 768px) {
				.project-modal-video-layout {
					grid-template-columns: 1fr;
					grid-template-rows: auto 1fr;
				}

				.project-modal-video-container {
					border-radius: 16px 16px 0 0;
					min-height: 300px;
				}

				.project-modal-content {
					max-width: 95%;
				}
			}

			.profile-grid {
				display: grid;
				grid-template-columns: 200px 1fr;
				gap: 2.5rem;
				align-items: start;
				position: relative;
				z-index: 2;
				background: rgba(255, 255, 255, 0.85);
				padding: 1.5rem;
				border-radius: 12px;
				backdrop-filter: blur(10px);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
			}

			.profile-image-container {
				text-align: center;
			}

			.profile-image {
				width: 180px;
				height: 180px;
				border-radius: 50%;
				object-fit: cover;
				object-position: center calc(50% + 30px);
				border: 4px solid var(--darkest);
				box-shadow: 0 8px 20px var(--shadowEnd);
				margin-bottom: 1rem;
			}

			.profile-info h2 {
				font-size: 1.6rem;
				margin-bottom: 0.4rem;
				color: var(--lightest);
				text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
			}

			.profile-info .headline {
				font-size: 1.1rem;
				color: var(--accent);
				margin-bottom: 0.4rem;
				font-weight: 600;
				text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
			}

			.profile-info .location {
				color: var(--light);
				margin-bottom: 1.5rem;
				font-size: 0.95rem;
			}

			.profile-info p {
				font-size: 0.95rem;
				line-height: 1.6;
				color: var(--text);
				margin-bottom: 1rem;
			}

			.contact-links {
				display: flex;
				gap: 0.75rem;
				margin-top: 1.5rem;
				flex-wrap: wrap;
			}

			.contact-btn {
				display: inline-block;
				padding: 0.6rem 1.2rem;
				background: var(--accent);
				color: white;
				text-decoration: none;
				border-radius: 6px;
				font-weight: 600;
				font-size: 0.85rem;
				transition: all 0.3s;
			}

			.contact-btn:hover {
				background: var(--accent-light);
				transform: translateY(-2px);
				box-shadow: 0 4px 12px rgba(0, 119, 181, 0.3);
			}

			.contact-btn.secondary {
				background: var(--dark);
			}

			.contact-btn.secondary:hover {
				background: var(--light);
			}

			/* Card Grid */
			.card-grid {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
				gap: 1.5rem;
				position: relative;
				z-index: 1;
			}

			.card {
				background: white;
				border-radius: 16px;
				padding: 1.5rem;
				box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
					0 2px 4px -1px rgba(0, 0, 0, 0.06);
				transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
				border: 2px solid transparent;
				position: relative;
				overflow: hidden;
				cursor: pointer;
			}

			.card::before {
				content: "";
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				height: 4px;
				background: var(--gradient-3);
				transform: scaleX(0);
				transform-origin: left;
				transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
			}

			.card:hover {
				transform: translateY(-8px) scale(1.02);
				box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
					0 10px 10px -5px rgba(0, 0, 0, 0.04);
				border-color: var(--accent-light);
			}

			.card:hover::before {
				transform: scaleX(1);
			}

			.card-header {
				display: flex;
				align-items: flex-start;
				gap: 1rem;
				margin-bottom: 1rem;
			}

			.card-logo {
				width: 55px;
				height: 55px;
				object-fit: contain;
				border-radius: 6px;
				padding: 6px;
				background: var(--darkest);
				flex-shrink: 0;
			}

			.card-title {
				font-size: 1.15rem;
				font-weight: 700;
				color: var(--lightest);
				margin-bottom: 0.4rem;
			}

			.card-subtitle {
				font-size: 0.95rem;
				color: var(--accent);
				margin-bottom: 0.4rem;
				font-weight: 600;
			}

			.card-meta {
				color: var(--dark);
				font-size: 0.85rem;
				margin-bottom: 0.25rem;
			}

			.card-description {
				color: var(--light);
				line-height: 1.5;
				margin-top: 0.75rem;
				font-size: 0.9rem;
			}

			.badge {
				display: inline-block;
				padding: 0.3rem 0.6rem;
				background: var(--success);
				color: white;
				border-radius: 5px;
				font-size: 0.75rem;
				font-weight: 600;
				margin-left: 0.4rem;
			}

			.skills-tags {
				display: flex;
				flex-wrap: wrap;
				gap: 0.4rem;
				margin-top: 0.75rem;
			}

			.skill-tag {
				background: var(--darkest);
				color: var(--light);
				padding: 0.4rem 0.8rem;
				border-radius: 15px;
				font-size: 0.8rem;
				border: 1px solid var(--dark);
			}

			/* Skills Grid */
			.skills-grid {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
				gap: 1.25rem;
				text-align: center;
				position: relative;
				z-index: 1;
			}

			.skill-item {
				background: white;
				padding: 1rem;
				border-radius: 12px;
				transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
				box-shadow: 0 2px 6px var(--shadowStart);
				position: relative;
				overflow: hidden;
				cursor: pointer;
			}

			.skill-item::before {
				content: "";
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: var(--gradient-1);
				opacity: 0;
				transition: opacity 0.4s ease;
				z-index: 0;
			}

			.skill-item:hover {
				transform: translateY(-6px) scale(1.05);
				box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.15);
			}

			.skill-item:hover::before {
				opacity: 0.1;
			}

			.skill-item > * {
				position: relative;
				z-index: 1;
			}

			.skill-icon {
				width: 45px;
				height: 45px;
				object-fit: contain;
				margin-bottom: 0.75rem;
				transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
			}

			.skill-item:hover .skill-icon {
				transform: scale(1.15) rotate(-5deg);
			}

			.skill-name {
				font-size: 0.8rem;
				color: var(--light);
				font-weight: 600;
			}

			/* Projects Section */
			.projects-grid {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
				gap: 1.25rem;
				position: relative;
				z-index: 1;
			}

			.project-card {
				background: white;
				border-radius: 12px;
				overflow: hidden;
				box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
				transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
				border: 2px solid transparent;
				cursor: pointer;
			}

			.project-card:hover {
				transform: translateY(-4px);
				box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.15);
				border-color: var(--accent-light);
			}

			.project-card:hover .project-image {
				transform: scale(1.05);
			}

			.project-image {
				width: 100%;
				height: 140px;
				object-fit: cover;
				object-position: center;
				transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
			}

			/* Show top of Smart Home project image */
			.project-image[src*="smartHome"] {
				object-position: top;
			}

			/* Show top of video instead of center */
			video.project-image {
				object-position: top;
			}

			.project-content {
				padding: 1rem;
			}

			.project-title {
				font-size: 1.05rem;
				font-weight: 700;
				color: var(--lightest);
				margin-bottom: 0.3rem;
				line-height: 1.3;
			}

			.project-subtitle {
				font-size: 0.85rem;
				color: var(--accent);
				margin-bottom: 0.5rem;
			}

			.project-description {
				color: var(--light);
				line-height: 1.5;
				margin-bottom: 0.75rem;
				font-size: 0.8rem;
				display: -webkit-box;
				-webkit-line-clamp: 3;
				line-clamp: 3;
				-webkit-box-orient: vertical;
				overflow: hidden;
			}

			.project-tags {
				display: flex;
				gap: 0.4rem;
				flex-wrap: wrap;
				margin-bottom: 0.75rem;
			}

			.project-tag {
				padding: 0.25rem 0.6rem;
				border-radius: 4px;
				color: white;
				font-weight: 600;
				font-size: 0.7rem;
			}

			.project-link {
				display: inline-block;
				padding: 0.5rem 1rem;
				background: var(--accent);
				color: white;
				text-decoration: none;
				border-radius: 6px;
				font-weight: 600;
				font-size: 0.75rem;
				transition: all 0.3s;
			}

			.project-link:hover {
				background: var(--accent-light);
			}

			/* Additional Projects List */
			.additional-projects-section {
				margin-top: 3rem;
			}

			.additional-projects-title {
				font-size: 1.4rem;
				font-weight: 600;
				color: var(--lightest);
				margin-bottom: 1rem;
				padding-bottom: 0.5rem;
				border-bottom: 2px solid var(--dark);
			}

			.projects-list {
				display: flex;
				flex-direction: column;
				gap: 0.75rem;
			}

			.project-list-item {
				background: white;
				padding: 1rem 1.25rem;
				border-radius: 8px;
				border-left: 3px solid var(--accent);
				box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
				transition: all 0.2s ease;
			}

			.project-list-item:hover {
				transform: translateX(4px);
				box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
				border-left-color: var(--accent-light);
			}

			.project-list-title {
				font-size: 1rem;
				font-weight: 700;
				color: var(--lightest);
				margin-bottom: 0.25rem;
			}

			.project-list-subtitle {
				font-size: 0.85rem;
				color: var(--accent);
				margin-bottom: 0.5rem;
			}

			.project-list-description {
				font-size: 0.85rem;
				color: var(--light);
				line-height: 1.5;
				margin-bottom: 0.5rem;
			}

			.project-list-meta {
				font-size: 0.8rem;
				color: var(--dark);
			}

			/* Progressive disclosure for additional projects */
			.projects-list {
				position: relative;
			}

			.project-list-item.hidden-item {
				display: none;
			}

			.projects-list.expanded .project-list-item.hidden-item {
				display: block;
			}

			.show-more-container {
				position: relative;
				margin-top: 0.75rem;
			}

			.show-more-btn {
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				padding: 0.75rem 2rem;
				background: rgba(59, 130, 246, 0.95);
				color: white;
				border: none;
				border-radius: 8px;
				font-weight: 600;
				font-size: 0.9rem;
				cursor: pointer;
				transition: all 0.3s ease;
				z-index: 10;
				backdrop-filter: blur(10px);
			}

			.show-more-btn:hover {
				background: rgba(96, 165, 250, 0.95);
				transform: translateY(-2px);
				box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
			}

			.projects-list.expanded ~ .show-more-container .show-more-btn {
				position: static;
				margin: 1rem auto 0;
			}

			/* Resume Section */
			.resume-section {
				background: var(--lightest);
				color: white;
				padding: 2.5rem 1.5rem;
				text-align: center;
			}

			.resume-content {
				max-width: 900px;
				margin: 0 auto;
			}

			.resume-section h2 {
				color: white;
				margin-bottom: 1.5rem;
			}

			.resume-section p {
				font-size: 0.95rem;
				margin-bottom: 1.5rem;
				opacity: 0.9;
			}

			.resume-btn {
				display: inline-block;
				padding: 0.8rem 2rem;
				background: var(--accent);
				color: white;
				text-decoration: none;
				border-radius: 6px;
				font-weight: 600;
				font-size: 0.95rem;
				transition: all 0.3s;
			}

			.resume-btn:hover {
				background: var(--accent-light);
				transform: translateY(-2px);
			}

			/* Thesis Highlight */
			.thesis-highlight {
				background: var(--gradient-1);
				color: white;
				padding: 2.5rem 1.5rem;
				border-radius: 16px;
				margin-bottom: 1.5rem;
				display: flex;
				gap: 2rem;
				align-items: center;
				box-shadow: 0 10px 40px -10px rgba(102, 126, 234, 0.5);
				transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
			}

			.thesis-highlight:hover {
				transform: translateY(-4px);
				box-shadow: 0 20px 50px -10px rgba(102, 126, 234, 0.6);
			}

			.thesis-image {
				width: 300px;
				height: auto;
				border-radius: 10px;
				box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
			}

			.thesis-text h3 {
				font-size: 1.5rem;
				margin-bottom: 0.75rem;
			}

			.thesis-text p {
				font-size: 0.9rem;
				line-height: 1.6;
				opacity: 0.95;
			}

			/* Certifications */
			.cert-card {
				background: white;
				border-radius: 16px;
				padding: 1.75rem;
				text-align: center;
				box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
					0 2px 4px -1px rgba(0, 0, 0, 0.06);
				transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
				border: 2px solid transparent;
				position: relative;
				overflow: hidden;
			}

			.cert-card::before {
				content: "";
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				height: 4px;
				background: var(--gradient-2);
				transform: scaleX(0);
				transform-origin: left;
				transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
			}

			.cert-card:hover {
				transform: translateY(-8px) scale(1.02);
				box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
					0 10px 10px -5px rgba(0, 0, 0, 0.04);
				border-color: var(--purple);
			}

			.cert-card:hover::before {
				transform: scaleX(1);
			}

			.cert-badge-img {
				width: 110px;
				height: 110px;
				object-fit: contain;
				margin: 0 auto 1rem;
				transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
			}

			.cert-card:hover .cert-badge-img {
				transform: scale(1.1) rotate(5deg);
			}

			.cert-title {
				font-size: 1.1rem;
				font-weight: 700;
				color: var(--lightest);
				margin-bottom: 0.75rem;
			}

			.cert-details {
				display: flex;
				justify-content: center;
				margin: 1rem 0;
			}

			.cert-detail {
				padding: 0.75rem;
				background: var(--darkest);
				border-radius: 6px;
				font-size: 0.85rem;
			}

			.cert-detail strong {
				display: block;
				color: var(--accent);
				margin-bottom: 0.25rem;
				font-size: 0.8rem;
			}

			/* Footer */
			footer {
				background: var(--lightest);
				color: white;
				padding: 2rem 1.5rem;
				text-align: center;
				font-size: 0.9rem;
			}

			footer a {
				color: var(--accent-light);
				text-decoration: none;
			}

			footer a:hover {
				text-decoration: underline;
			}

			/* Category Headers */
			.category-header {
				color: var(--lightest);
				margin: 2rem 0 1.25rem;
				font-size: 1.2rem;
				font-weight: 600;
				position: relative;
				z-index: 1;
			}

			/* Responsive */
			@media (max-width: 1024px) {
				.profile-grid {
					grid-template-columns: 1fr;
					text-align: center;
				}

				.thesis-highlight {
					flex-direction: column;
				}

				.thesis-image {
					width: 100%;
					max-width: 400px;
				}

				nav ul {
					gap: 1rem;
				}
			}

			@media (max-width: 768px) {
				.section-title {
					font-size: 1.5rem;
				}

				.card-grid {
					grid-template-columns: 1fr;
				}

				.skills-grid {
					grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
				}

				nav ul {
					display: none;
				}

				.profile-grid {
					grid-template-columns: 1fr;
				}

				.profile-image {
					width: 150px;
					height: 150px;
				}
			}

			html {
				scroll-behavior: smooth;
				scroll-padding-top: 80px; /* Account for fixed navbar */
			}

			.back-to-top {
				position: fixed;
				bottom: 1.5rem;
				right: 1.5rem;
				width: 45px;
				height: 45px;
				background: var(--accent);
				color: white;
				border-radius: 50%;
				display: flex;
				align-items: center;
				justify-content: center;
				cursor: pointer;
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
				transition: all 0.3s;
				z-index: 999;
				font-size: 1.2rem;
			}

			.back-to-top:hover {
				background: var(--accent-light);
				transform: translateY(-3px);
			}

			/* GitHub Contributions */
			.github-section {
				background: white;
				border-radius: 16px;
				padding: 2rem 1.5rem;
				margin: 2rem auto;
				box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
			}

			.github-section .section-title {
				margin-bottom: 1rem;
			}

			.github-subtitle {
				text-align: center;
				color: var(--light);
				margin-bottom: 1.5rem;
				font-size: 0.85rem;
			}

			.github-subtitle a {
				color: var(--accent);
				text-decoration: none;
				font-weight: 500;
			}

			.github-subtitle a:hover {
				text-decoration: underline;
			}

			.calendar {
				max-width: 100%;
				margin: 0 auto;
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
					"Roboto", "Oxygen", "Ubuntu", sans-serif;
				overflow-x: auto;
				border: 0px solid #dddddd;
				border-radius: 0px;
			}

			/* Style the calendar container */
			.calendar .js-calendar-graph-svg {
				max-width: 100%;
			}

			/* Override library's inline styles on the github-calendar div */
			#github-calendar.calendar {
				border: 0 !important;
				border-radius: 0 !important;
				--color-calendar-graph-day-bg: #ebedf0 !important;
				--color-calendar-graph-day-L1-bg: #40c463 !important;
				--color-calendar-graph-day-L2-bg: #40c463 !important;
				--color-calendar-graph-day-L3-bg: #40c463 !important;
				--color-calendar-graph-day-L4-bg: #40c463 !important;
			}

			/* Hide text elements but keep the graph structure */
			.calendar h2,
			.calendar h3,
			.calendar .float-left,
			.calendar .float-right {
				display: none !important;
			}

			/* Hide any links inside position-relative divs */
			.calendar .position-relative a,
			.calendar .position-relative > a {
				display: none !important;
			}

			/* Make all contribution squares the same green */
			.calendar rect.ContribCalendar-day[data-level="0"] {
				fill: #ebedf0 !important;
			}

			.calendar rect.ContribCalendar-day[data-level="1"],
			.calendar rect.ContribCalendar-day[data-level="2"],
			.calendar rect.ContribCalendar-day[data-level="3"],
			.calendar rect.ContribCalendar-day[data-level="4"] {
				fill: #40c463 !important;
			}

			/* Also target any rect elements in the SVG */
			.calendar svg rect[data-level]:not([data-level="0"]) {
				fill: #40c463 !important;
			}

			@media (max-width: 768px) {
				.github-section {
					overflow-x: auto;
					padding: 1.5rem 1rem;
				}

				.calendar {
					overflow-x: scroll;
					-webkit-overflow-scrolling: touch;
				}
			}
		</style>
	</head>
	<body>
		<!-- Navigation -->
		<nav>
			<div
				class="container"
				style="padding: 0"
			>
				<div
					class="logo"
					id="nav-name"
				>
					Portfolio
				</div>
				<ul>
					<li><a href="#about">About</a></li>
					<li><a href="#education">Education</a></li>
					<li><a href="#experience">Experience</a></li>
					<li><a href="#projects">Featured Projects</a></li>
					<li><a href="#github">GitHub</a></li>
					<li><a href="#certifications">Certifications</a></li>
					<li><a href="#skills">Skills</a></li>
					<li><a href="#resume">Resume</a></li>
					<li><a href="#references">References</a></li>
				</ul>
			</div>
		</nav>

		<!-- Profile/About Section -->
		<section
			class="profile-section"
			id="about"
		></section>

		<!-- Education Section -->
		<section
			class="container"
			id="education"
		></section>

		<!-- Work Experience Section -->
		<section
			class="container"
			id="experience"
		></section>

		<!-- Projects Section -->
		<section
			class="container"
			id="projects"
		></section>

		<!-- GitHub Contributions Section -->
		<section
			class="container"
			id="github"
		>
			<div class="github-section">
				<h2 class="section-title">GitHub Activity</h2>
				<p class="github-subtitle">
					Live contribution data from
					<a
						href="https://github.com/Tom-Sloan"
						target="_blank"
						>@Tom-Sloan</a
					>
				</p>
				<div
					class="calendar"
					id="github-calendar"
				>
					<div
						style="
							text-align: center;
							padding: 2rem;
							color: var(--light);
							font-size: 0.9rem;
						"
					>
						Loading...
					</div>
				</div>
			</div>
		</section>

		<!-- Certifications Section -->
		<section
			class="container"
			id="certifications"
			style="
				background: white;
				border-radius: 16px;
				padding: 2.5rem 1.5rem;
				margin: 2rem auto;
			"
		></section>

		<!-- Skills Section -->
		<section
			class="container"
			id="skills"
		></section>

		<!-- Resume Section -->
		<section
			class="resume-section"
			id="resume"
		></section>

		<!-- References Section -->
		<section
			class="container"
			id="references"
			style="padding: 3rem 1.5rem; text-align: center"
		>
			<div
				style="
					max-width: 600px;
					margin: 0 auto;
					background: white;
					padding: 2rem;
					border-radius: 12px;
					box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
					border-left: 4px solid var(--accent);
				"
			>
				<h3
					style="
						font-size: 1.3rem;
						font-weight: 700;
						color: var(--lightest);
						margin-bottom: 0.75rem;
					"
				>
					References
				</h3>
				<p
					style="
						color: var(--light);
						font-size: 1rem;
						line-height: 1.6;
					"
				>
					Professional and academic references available upon request.
				</p>
			</div>
		</section>

		<!-- Footer -->
		<footer id="footer"></footer>

		<!-- Back to Top Button -->
		<div
			class="back-to-top"
			onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
		>
			‚Üë
		</div>

		<!-- Image Modal -->
		<div
			class="image-modal"
			id="imageModal"
		>
			<img
				src=""
				alt="Thesis visualization"
				id="modalImage"
				onclick="event.stopPropagation()"
			/>
		</div>

		<!-- Load Data -->
		<script src="data.js"></script>

		<!-- GitHub Calendar Library -->
		<link
			rel="stylesheet"
			href="https://unpkg.com/github-calendar@latest/dist/github-calendar-responsive.css"
		/>
		<script src="https://unpkg.com/github-calendar@latest/dist/github-calendar.min.js"></script>

		<!-- PDF.js Library for better PDF rendering -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

		<!-- Render Functions -->
		<script>
			// Image Modal Functions
			function openImageModal(imageSrc) {
				const modal = document.getElementById("imageModal");
				const modalImage = document.getElementById("modalImage");
				modalImage.src = imageSrc;
				modal.classList.add("active");
				document.body.style.overflow = "hidden";
			}

			function closeImageModal() {
				const modal = document.getElementById("imageModal");
				modal.classList.remove("active");
				document.body.style.overflow = "auto";
			}

			// Render Profile Section
			function renderProfile() {
				const profile = portfolioData.profile;
				const section = document.getElementById("about");

				section.innerHTML = `
					<div class="title-background">
						<div class="bg-image-wrapper">
							<img src="images/thesis/thesis-results-chart.png" alt="" class="bg-image" loading="lazy" />
						</div>
						<div class="bg-image-wrapper">
							<img src="images/thesis/thesis-architecture-diagram.png" alt="" class="bg-image" loading="lazy" />
						</div>
						<div class="bg-image-wrapper">
							<img src="images/thesis/thesis-figure-02.png" alt="" class="bg-image" loading="lazy" />
						</div>
						<div class="bg-image-wrapper">
							<img src="images/thesis/thesis-main-visualization.png" alt="" class="bg-image" loading="lazy" />
						</div>
					</div>
					<div class="container">
						<div class="profile-grid">
							<div class="profile-image-container">
								<img src="${profile.image}" alt="${
					profile.name
				}" class="profile-image" fetchpriority="high" />
								<div class="contact-links" style="flex-direction: column">
									<a href="${profile.links.linkedin}" target="_blank" class="contact-btn">
										<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle; margin-right: 0.5rem;">
											<path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
										</svg>
										LinkedIn
									</a>
									<a href="${profile.links.github}" target="_blank" class="contact-btn secondary">
										<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="vertical-align: middle; margin-right: 0.5rem;">
											<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
										</svg>
										GitHub
									</a>
									<a href="viewer-3d.html" class="contact-btn" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none;">ü•Ω View in 3D</a>
								</div>
							</div>
							<div class="profile-info">
								<h2>${profile.name}</h2>
								<div class="headline">${profile.headline}</div>
								${profile.about.map((p) => `<p>${p}</p>`).join("")}
							</div>
						</div>
					</div>
				`;
			}

			// Render Education Section
			function renderEducation() {
				const education = portfolioData.education;
				const section = document.getElementById("education");

				const cardsHTML = education
					.map((edu) => {
						// Truncate description for card view
						const truncatedDesc =
							edu.description.length > 200
								? edu.description.substring(0, 200) + "..."
								: edu.description;

						return `
					<div class="card" onclick='openEducationModal(${JSON.stringify(edu).replace(
						/'/g,
						"&#39;"
					)})'>
						<div class="card-header">
							<img src="${edu.logo}" alt="${edu.school}" class="card-logo" loading="lazy" />
							<div>
								<div class="card-title">${edu.school}</div>
								<div class="card-subtitle">${edu.degree}</div>
							</div>
						</div>
						<div class="card-meta">üéØ Field: ${edu.field}</div>
						<div class="card-meta">üìÖ ${edu.startDate} - ${edu.endDate}</div>
						${
							edu.grade
								? `<div class="card-meta">üéñÔ∏è <strong>${edu.grade}</strong></div>`
								: ""
						}
						<div class="card-description">${truncatedDesc}</div>
					</div>
				`;
					})
					.join("");

				section.innerHTML = `
					<h2 class="section-title">Education</h2>
					<div class="card-grid">${cardsHTML}</div>
				`;
			}

			// Render Experience Section
			function renderExperience() {
				const experience = portfolioData.experience;
				const section = document.getElementById("experience");

				const cardsHTML = experience
					.map((exp) => {
						const logoHTML = exp.logo
							? `<img src="${exp.logo}" alt="${exp.company}" class="card-logo" loading="lazy" />`
							: `<div style="width: 55px; height: 55px; border-radius: 6px; padding: 6px; background: var(--darkest); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
								<div style="font-weight: 700; color: var(--accent); font-size: 0.9rem;">${exp.company
									.substring(0, 2)
									.toUpperCase()}</div>
							</div>`;

						// Truncate description for card view
						const truncatedDesc =
							exp.description.length > 200
								? exp.description.substring(0, 200) + "..."
								: exp.description;

						return `
						<div class="card" onclick='openExperienceModal(${JSON.stringify(exp).replace(
							/'/g,
							"&#39;"
						)})'>
							<div class="card-header">
								${logoHTML}
								<div>
									<div class="card-title">
										${exp.title}
										${exp.current ? '<span class="badge">Current</span>' : ""}
									</div>
									<div class="card-subtitle">${exp.company}</div>
								</div>
							</div>
							<div class="card-meta">üìÖ ${exp.startDate} - ${exp.endDate}</div>
							<div class="card-meta">üìç ${exp.location}</div>
							<div class="card-meta">üíº ${exp.employmentType}</div>
							<div class="card-description">${truncatedDesc}</div>
							<div class="skills-tags">
								${exp.skills.map((skill) => `<span class="skill-tag">${skill}</span>`).join("")}
							</div>
						</div>
					`;
					})
					.join("");

				section.innerHTML = `
					<h2 class="section-title">Work Experience</h2>
					<div class="card-grid">${cardsHTML}</div>
				`;
			}

			// Render Projects Section
			function renderProjects() {
				const projects = portfolioData.projects;
				const section = document.getElementById("projects");

				// Separate featured and non-featured projects
				const featuredProjects = projects.filter((p) => p.featured);
				const additionalProjects = projects
					.filter((p) => !p.featured)
					.sort((a, b) => {
						// Sort by end date, most recent first
						const dateA = new Date(
							a.endDate === "Ongoing" ? "9999-12-31" : a.endDate
						);
						const dateB = new Date(
							b.endDate === "Ongoing" ? "9999-12-31" : b.endDate
						);
						return dateB - dateA;
					});

				// Render featured projects as tiles
				const featuredHTML = featuredProjects
					.map((project, index) => {
						// Check if the image is a video
						const isVideo =
							project.image && project.image.endsWith(".mp4");
						const mediaHTML = isVideo
							? `<video class="project-image lazy-video" data-src="${project.image}" loop muted playsinline></video>`
							: `<img src="${project.image}" alt="${project.title}" class="project-image" loading="lazy" />`;

						return `
					<div class="project-card" onclick='openProjectModal(${JSON.stringify(
						project
					).replace(/'/g, "&#39;")})'>
						${mediaHTML}
						<div class="project-content">
							<h3 class="project-title">${project.title}</h3>
							<div class="project-subtitle">${project.subtitle}</div>
							<p class="project-description">${project.description}</p>
							<div class="project-tags">
								${project.category
									.map(
										(cat) =>
											`<span class="project-tag" style="background: ${cat.color}">${cat.tag}</span>`
									)
									.join("")}
							</div>
							${
								project.link
									? `<a href="${project.link}" target="_blank" class="project-link" onclick="event.stopPropagation()">View Project ‚Üí</a>`
									: ""
							}
						</div>
					</div>
				`;
					})
					.join("");

				// Setup lazy loading for videos after rendering
				setTimeout(() => {
					const lazyVideos =
						document.querySelectorAll("video.lazy-video");
					const videoObserver = new IntersectionObserver(
						(entries) => {
							entries.forEach((entry) => {
								if (entry.isIntersecting) {
									const video = entry.target;
									video.src = video.dataset.src;
									video.load();
									video.play().catch(() => {}); // Autoplay with error handling
									video.classList.remove("lazy-video");
									videoObserver.unobserve(video);
								}
							});
						},
						{ rootMargin: "50px" }
					);

					lazyVideos.forEach((video) => videoObserver.observe(video));
				}, 100);

				// Render non-featured projects as list with progressive disclosure
				const additionalHTML =
					additionalProjects.length > 0
						? `
					<div class="additional-projects-section">
						<h3 class="additional-projects-title">Additional Projects</h3>
						<div class="projects-list" id="projectsList">
							${additionalProjects
								.map(
									(project, index) => `
								<div class="project-list-item ${
									index > 0 ? "hidden-item" : ""
								}" style="cursor: pointer;" onclick='openProjectModal(${JSON.stringify(
										project
									).replace(/'/g, "&#39;")})'>
									<div class="project-list-title">${project.title}</div>
									<div class="project-list-subtitle">${project.subtitle}</div>
									<div class="project-list-description">${project.description}</div>
									<div class="project-list-meta">${project.startDate} - ${project.endDate}</div>
								</div>
							`
								)
								.join("")}
						</div>
						${
							additionalProjects.length > 1
								? '<div class="show-more-container"><button class="show-more-btn" id="showMoreBtn">Show More Projects</button></div>'
								: ""
						}
					</div>
				`
						: "";

				section.innerHTML = `
					<h2 class="section-title">Featured Projects</h2>
					<div class="projects-grid">${featuredHTML}</div>
					${additionalHTML}
				`;
			}

			// Render Skills Section
			function renderSkills() {
				const skills = portfolioData.skills;
				const section = document.getElementById("skills");

				let html = '<h2 class="section-title">Technical Skills</h2>';

				for (const [category, skillList] of Object.entries(skills)) {
					html += `
						<h3 class="category-header">${category}</h3>
						<div class="skills-grid">
							${skillList
								.map(
									(skill) => `
								<div class="skill-item">
									<img src="${skill.icon}" alt="${skill.name}" class="skill-icon" loading="lazy" />
									<div class="skill-name">${skill.name}</div>
								</div>
							`
								)
								.join("")}
						</div>
					`;
				}

				section.innerHTML = html;
			}

			// Render Certifications Section
			function renderCertifications() {
				const certifications = portfolioData.certifications;
				const section = document.getElementById("certifications");

				const certsHTML = certifications
					.map(
						(cert) => `
					<div class="cert-card">
						<img src="${cert.badgeImage}" alt="${cert.name}" class="cert-badge-img" loading="lazy" />
						<h3 class="cert-title">${cert.name}</h3>
						<div class="cert-details">
							<div class="cert-detail">
								<strong>Issued</strong>
								${cert.issueDate}
							</div>
						</div>
						<p style="color: var(--light); margin-bottom: 1rem; font-size: 0.85rem;">
							${cert.description}
						</p>
						<a href="${cert.credentialUrl}" target="_blank" class="contact-btn">View Credential</a>
					</div>
				`
					)
					.join("");

				section.innerHTML = `
					<h2 class="section-title">Certifications</h2>
					<div class="card-grid">${certsHTML}</div>
				`;
			}

			// Render Resume Section
			function renderResume() {
				const resume = portfolioData.resume;
				const section = document.getElementById("resume");

				section.innerHTML = `
					<div class="resume-content">
						<h2 class="section-title" style="color: white">Resume / CV</h2>
						<p>${resume.description}</p>
						<a href="${resume.path}" download class="resume-btn" style="margin-bottom: 2rem; display: inline-block">
							üìÑ Download Resume (PDF)
						</a>
						<div style="margin-top: 2rem;">
							<object
								data="${resume.path}#toolbar=0&navpanes=0&scrollbar=0"
								type="application/pdf"
								style="width: 100%; height: 800px; border: 2px solid var(--dark); border-radius: 8px; background: white;"
								title="${resume.title}"
							>
								<div style="text-align: center; padding: 3rem; background: white; border-radius: 8px; border: 2px solid var(--dark);">
									<p style="color: var(--text); margin-bottom: 1.5rem; font-size: 1rem;">
										üìÑ Unable to display PDF in browser
									</p>
									<a href="${resume.path}" download class="resume-btn" style="display: inline-block;">
										Download Resume (PDF)
									</a>
									<p style="color: var(--light); margin-top: 1rem; font-size: 0.9rem;">
										Or <a href="${resume.path}" target="_blank" style="color: var(--accent); text-decoration: underline;">open in new tab</a>
									</p>
								</div>
							</object>
						</div>
					</div>
				`;
			}

			// Render Footer
			function renderFooter() {
				const profile = portfolioData.profile;
				const footer = document.getElementById("footer");

				footer.innerHTML = `
					<div class="container" style="padding: 0">
						<h3 style="margin-bottom: 0.75rem; font-size: 1.1rem">${profile.name}</h3>
						<p style="margin-bottom: 0.75rem">${profile.headline}</p>
						<p>
							<a href="${profile.links.linkedin}" target="_blank">LinkedIn</a> ‚Ä¢
							<a href="${profile.links.portfolio}" target="_blank">Portfolio</a> ‚Ä¢
							<a href="${profile.links.github}" target="_blank">GitHub</a>
						</p>
						<p style="margin-top: 1.5rem; opacity: 0.7; font-size: 0.85rem">
							${profile.location} | Last updated: October 2025
						</p>
					</div>
				`;
			}

			// Render GitHub Calendar
			function renderGitHubCalendar() {
				const profile = portfolioData.profile;
				const githubUsername = profile.links.github.split("/").pop();

				// Add a small delay to ensure the library is loaded
				setTimeout(() => {
					if (typeof GitHubCalendar !== "undefined") {
						try {
							GitHubCalendar("#github-calendar", githubUsername, {
								responsive: true,
								tooltips: true,
								global_stats: false,
							});

							// Clean up unwanted elements after the calendar loads
							setTimeout(() => {
								const calendar =
									document.querySelector("#github-calendar");
								if (calendar) {
									// Override the library's CSS custom properties
									calendar.style.setProperty(
										"--color-calendar-graph-day-bg",
										"#ebedf0"
									);
									calendar.style.setProperty(
										"--color-calendar-graph-day-L1-bg",
										"#40c463"
									);
									calendar.style.setProperty(
										"--color-calendar-graph-day-L2-bg",
										"#40c463"
									);
									calendar.style.setProperty(
										"--color-calendar-graph-day-L3-bg",
										"#40c463"
									);
									calendar.style.setProperty(
										"--color-calendar-graph-day-L4-bg",
										"#40c463"
									);
									calendar.style.border = "0";
									calendar.style.borderRadius = "0";

									// Remove unwanted text elements
									const skipLink = calendar.querySelector(
										'a[href*="contributions"]'
									);
									const graphHeading =
										calendar.querySelector(".f4");
									const legend =
										calendar.querySelector(".float-left");
									const footer =
										calendar.querySelector(
											".contrib-footer"
										);

									if (skipLink) skipLink.remove();
									if (graphHeading) graphHeading.remove();
									if (legend) legend.remove();
									if (footer) footer.remove();

									// Remove any paragraph or h2 elements
									calendar
										.querySelectorAll("p, h2, h3")
										.forEach((el) => el.remove());
								}
							}, 1000);
						} catch (error) {
							console.error(
								"Error loading GitHub calendar:",
								error
							);
							showGitHubFallback(profile.links.github);
						}
					} else {
						showGitHubFallback(profile.links.github);
					}
				}, 500);
			}

			function showGitHubFallback(githubUrl) {
				document.getElementById("github-calendar").innerHTML = `
					<div style="text-align: center; padding: 3rem;">
						<svg width="64" height="64" viewBox="0 0 16 16" fill="currentColor" style="color: var(--accent); margin-bottom: 1rem;">
							<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
						</svg>
						<p style="margin-bottom: 1.5rem; color: var(--light); font-size: 0.95rem;">
							Unable to load contribution graph. View my GitHub profile directly:
						</p>
						<a href="${githubUrl}" target="_blank" class="contact-btn">
							<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="vertical-align: middle; margin-right: 0.5rem;">
								<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
							</svg>
							Visit GitHub Profile
						</a>
					</div>
				`;
			}

			// Initialize page
			document.addEventListener("DOMContentLoaded", function () {
				// Update page title and nav name
				document.getElementById(
					"page-title"
				).textContent = `${portfolioData.profile.name} - ${portfolioData.profile.headline}`;
				document.getElementById("nav-name").textContent =
					portfolioData.profile.name;

				// Render all sections
				renderProfile();
				renderEducation();
				renderExperience();
				renderProjects();
				renderGitHubCalendar();
				renderSkills();
				renderCertifications();
				renderResume();
				renderFooter();

				// Setup "Show More" button for additional projects
				const showMoreBtn = document.getElementById("showMoreBtn");
				if (showMoreBtn) {
					showMoreBtn.addEventListener("click", function () {
						const projectsList =
							document.getElementById("projectsList");
						projectsList.classList.toggle("expanded");

						if (projectsList.classList.contains("expanded")) {
							this.textContent = "Show Less";
						} else {
							this.textContent = "Show More Projects";
						}
					});
				}

				// Background image click handlers - open modal
				const bgImages = document.querySelectorAll(".bg-image");
				bgImages.forEach((img) => {
					img.addEventListener("click", function () {
						openImageModal(this.src);
					});
				});

				// Modal event listeners
				const modal = document.getElementById("imageModal");
				modal.addEventListener("click", function (e) {
					if (e.target === modal) {
						closeImageModal();
					}
				});

				// Close modal on ESC key
				document.addEventListener("keydown", function (e) {
					if (e.key === "Escape") {
						closeImageModal();
					}
				});

				// Back to top button logic
				window.addEventListener("scroll", function () {
					const backToTop = document.querySelector(".back-to-top");
					if (window.scrollY > 300) {
						backToTop.style.opacity = "1";
						backToTop.style.pointerEvents = "auto";
					} else {
						backToTop.style.opacity = "0";
						backToTop.style.pointerEvents = "none";
					}
				});
				document.querySelector(".back-to-top").style.opacity = "0";

				// Scroll spy for active navigation
				const sections = document.querySelectorAll("section[id]");
				const navLinks = document.querySelectorAll('nav a[href^="#"]');

				function setActiveNav() {
					const scrollY = window.pageYOffset;

					sections.forEach((section) => {
						const sectionHeight = section.offsetHeight;
						const sectionTop = section.offsetTop - 100;
						const sectionId = section.getAttribute("id");

						if (
							scrollY > sectionTop &&
							scrollY <= sectionTop + sectionHeight
						) {
							navLinks.forEach((link) => {
								link.classList.remove("active");
								if (
									link.getAttribute("href") ===
									`#${sectionId}`
								) {
									link.classList.add("active");
								}
							});
						}
					});

					// Handle edge case for top of page
					if (scrollY < 100) {
						navLinks.forEach((link) =>
							link.classList.remove("active")
						);
						if (navLinks[0]) navLinks[0].classList.add("active");
					}
				}

				window.addEventListener("scroll", setActiveNav);
				setActiveNav(); // Set initial active state
			});
		</script>

		<!-- Project Detail Modal -->
		<div
			id="projectModal"
			class="project-modal"
		>
			<div class="project-modal-content">
				<button
					class="project-modal-close"
					onclick="closeProjectModal()"
				>
					&times;
				</button>
				<div id="projectModalContent"></div>
			</div>
		</div>

		<script>
			function openProjectModal(project) {
				const modal = document.getElementById("projectModal");
				const content = document.getElementById("projectModalContent");

				// Determine if media is video or image
				const isVideo = project.image && project.image.endsWith(".mp4");

				if (isVideo) {
					// Video layout: side-by-side
					content.innerHTML = `
						<div class="project-modal-video-layout">
							<div class="project-modal-video-container">
								<video autoplay loop muted playsinline>
									<source src="${project.image}" type="video/mp4">
								</video>
							</div>
							<div class="project-modal-body-sidebar">
								<h2 class="project-modal-title">${project.title}</h2>
								<div class="project-modal-subtitle">${project.subtitle || ""}</div>
								<p class="project-modal-description">${project.description}</p>
								<div class="project-modal-tags">
									${project.category
										.map(
											(cat) =>
												`<span class="project-modal-tag" style="background: ${cat.color}">${cat.tag}</span>`
										)
										.join("")}
								</div>
								${
									project.technologies &&
									project.technologies.length > 0
										? `
									<h3 style="margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem; color: var(--lightest);">Technologies Used</h3>
									<div class="detail-modal-skills">
										${project.technologies
											.map(
												(tech) =>
													`<span class="detail-modal-skill">${tech}</span>`
											)
											.join("")}
									</div>
								`
										: ""
								}
								${
									project.link
										? `<a href="${project.link}" target="_blank" class="project-modal-link" style="margin-top: 1.5rem;">View Project ‚Üí</a>`
										: ""
								}
							</div>
						</div>
					`;
				} else {
					// Image layout: stacked (traditional)
					content.innerHTML = `
						<div class="project-modal-stacked-layout">
							<img src="${project.image}" alt="${
						project.title
					}" class="project-modal-media" />
							<div class="project-modal-body">
								<h2 class="project-modal-title">${project.title}</h2>
								<div class="project-modal-subtitle">${project.subtitle || ""}</div>
								<p class="project-modal-description">${project.description}</p>
								<div class="project-modal-tags">
									${project.category
										.map(
											(cat) =>
												`<span class="project-modal-tag" style="background: ${cat.color}">${cat.tag}</span>`
										)
										.join("")}
								</div>
								${
									project.technologies &&
									project.technologies.length > 0
										? `
									<h3 style="margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem; color: var(--lightest);">Technologies Used</h3>
									<div class="detail-modal-skills">
										${project.technologies
											.map(
												(tech) =>
													`<span class="detail-modal-skill">${tech}</span>`
											)
											.join("")}
									</div>
								`
										: ""
								}
								${
									project.link
										? `<a href="${project.link}" target="_blank" class="project-modal-link" style="margin-top: 1.5rem;">View Project ‚Üí</a>`
										: ""
								}
							</div>
						</div>
					`;
				}

				modal.classList.add("active");
				document.body.style.overflow = "hidden";
			}

			function closeProjectModal() {
				const modal = document.getElementById("projectModal");
				modal.classList.remove("active");
				document.body.style.overflow = "";
			}

			// Close modal when clicking outside
			document
				.getElementById("projectModal")
				.addEventListener("click", function (e) {
					if (e.target === this) {
						closeProjectModal();
					}
				});

			// Close modal on escape key
			document.addEventListener("keydown", function (e) {
				if (e.key === "Escape") {
					closeProjectModal();
					closeExperienceModal();
					closeEducationModal();
				}
			});
		</script>

		<!-- Experience Detail Modal -->
		<div
			id="experienceModal"
			class="detail-modal"
		>
			<div class="detail-modal-content">
				<button
					class="detail-modal-close"
					onclick="closeExperienceModal()"
				>
					&times;
				</button>
				<div id="experienceModalContent"></div>
			</div>
		</div>

		<!-- Education Detail Modal -->
		<div
			id="educationModal"
			class="detail-modal"
		>
			<div class="detail-modal-content">
				<button
					class="detail-modal-close"
					onclick="closeEducationModal()"
				>
					&times;
				</button>
				<div id="educationModalContent"></div>
			</div>
		</div>

		<script>
			function openExperienceModal(exp) {
				const modal = document.getElementById("experienceModal");
				const content = document.getElementById(
					"experienceModalContent"
				);

				const logoHTML = exp.logo
					? `<img src="${exp.logo}" alt="${exp.company}" class="detail-modal-logo" />`
					: `<div class="detail-modal-logo" style="display: flex; align-items: center; justify-content: center; background: var(--darkest);"><div style="font-weight: 700; color: var(--accent); font-size: 1.2rem;">${exp.company
							.substring(0, 2)
							.toUpperCase()}</div></div>`;

				content.innerHTML = `
					<div class="detail-modal-header">
						${logoHTML}
						<div>
							<h2 class="detail-modal-title">${exp.title}</h2>
							<div class="detail-modal-subtitle">${exp.company}${
					exp.current ? ' <span class="badge">Current</span>' : ""
				}</div>
						</div>
					</div>
					<div class="detail-modal-meta">
						<div class="detail-modal-meta-item">üìÖ ${exp.startDate} - ${exp.endDate}</div>
						<div class="detail-modal-meta-item">üìç ${exp.location}</div>
						<div class="detail-modal-meta-item">üíº ${exp.employmentType}</div>
					</div>
					<div class="detail-modal-description">${exp.description}</div>
					${
						exp.skills && exp.skills.length > 0
							? `
						<h3 style="margin-bottom: 0.75rem; font-size: 1.1rem; color: var(--lightest);">Skills Used</h3>
						<div class="detail-modal-skills">
							${exp.skills
								.map(
									(skill) =>
										`<span class="detail-modal-skill">${skill}</span>`
								)
								.join("")}
						</div>
					`
							: ""
					}
				`;

				modal.classList.add("active");
				document.body.style.overflow = "hidden";
			}

			function closeExperienceModal() {
				const modal = document.getElementById("experienceModal");
				modal.classList.remove("active");
				document.body.style.overflow = "";
			}

			function openEducationModal(edu) {
				const modal = document.getElementById("educationModal");
				const content = document.getElementById(
					"educationModalContent"
				);

				content.innerHTML = `
					<div class="detail-modal-header">
						<img src="${edu.logo}" alt="${edu.school}" class="detail-modal-logo" />
						<div>
							<h2 class="detail-modal-title">${edu.school}</h2>
							<div class="detail-modal-subtitle">${edu.degree}</div>
						</div>
					</div>
					<div class="detail-modal-meta">
						<div class="detail-modal-meta-item">üéØ Field: ${edu.field}</div>
						<div class="detail-modal-meta-item">üìÖ ${edu.startDate} - ${edu.endDate}</div>
						${
							edu.grade
								? `<div class="detail-modal-meta-item">üéñÔ∏è <strong>${edu.grade}</strong></div>`
								: ""
						}
					</div>
					<div class="detail-modal-description">${edu.description}</div>
				`;

				modal.classList.add("active");
				document.body.style.overflow = "hidden";
			}

			function closeEducationModal() {
				const modal = document.getElementById("educationModal");
				modal.classList.remove("active");
				document.body.style.overflow = "";
			}

			// Close modals when clicking outside
			document
				.getElementById("experienceModal")
				.addEventListener("click", function (e) {
					if (e.target === this) {
						closeExperienceModal();
					}
				});

			document
				.getElementById("educationModal")
				.addEventListener("click", function (e) {
					if (e.target === this) {
						closeEducationModal();
					}
				});
		</script>
	</body>
</html>
